## Установка

[feh](https://feh.finalrewind.org/) — это лёгкий и мощный просмотрщик изображений, который также может управлять фоном рабочего стола для оконных менеджеров, не умеющих делать это самостоятельно.

[Установите](https://wiki.archlinux.org/title/%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B5 "Установите") пакет [feh](https://archlinux.org/packages/?name=feh).
## Использование

Feh имеет множество настроек. Для получения полного списка опций выполните `feh --help` или смотрите [feh(1)](https://man.archlinux.org/man/feh.1).

### Как просмотрщик изображений

Чтобы быстро просматривать изображения в определенном каталоге, вы можете запустить feh со следующими параметрами:

$ feh -g 640x480 -d -S filename /path/to/directory

- Ключ `-g` используется для просмотра изображений в разрешении 640x480
- Ключ `-d` отображает имя файла
- Ключ `-S filename` сортирует изображения по их названию

Это всего лишь один пример; есть много других вариантов для большей гибкости.

**Совет:** Параметр `--start-at` будет отображать выбранное изображение в feh, одновременно позволяя просматривать все другие изображения в каталоге в их порядке по умолчанию, то есть, как если бы вы запустили «feh *» и перешли к выбранному изображению. Например, `feh --start-at ./foo.jpg .` покажет все изображения в текущем каталоге, начиная с файла `foo.jpg`.

Если вы просматриваете фотографии с современной камеры с данными EXIF, можно использовать параметр `--auto-rotate` для автоматического поворота изображений. Это не изменяет файл.

### Как менеджер фона рабочего стола

`feh` может управлять обоями рабочего стола при использовании [оконных менеджеров](https://wiki.archlinux.org/title/Window_manager_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Window manager (Русский)"), не имеющих такой функции, таких как [Openbox](https://wiki.archlinux.org/title/Openbox_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Openbox (Русский)"), [Fluxbox](https://wiki.archlinux.org/title/Fluxbox "Fluxbox") и [xmonad](https://wiki.archlinux.org/title/Xmonad_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Xmonad (Русский)").

Эта команда является примером для установки фона рабочего стола:

$ feh --bg-scale /path/to/image.file

Другие варианты опций:

--bg-tile ФАЙЛ
--bg-center ФАЙЛ
--bg-max ФАЙЛ
--bg-fill ФАЙЛ

Для восстановления фона при следующем входе добавьте команду в автозагрузку (например `~/.xinitrc`, `~/.config/openbox/autostart.sh`, и т.д.):

sh ~/.fehbg &

Чтобы изменить фоновое изображение, измените `~/.fehbg`, который будет создан после выполнения команды `feh --bg-scale /path/to/image.file` упомянутой выше.

Можно отключить создание файла `~/.fehbg` с помощью опции `--no-fehbg`.

Для установки разных фонов на разных мониторах укажите столько же файлов, сколько у вас мониторов. Например для двух:

$ feh --bg-center путь/к/файлу/для/первого/монитора путь/к/файлу/для/второго/монитора

### Просмотр SVG изображений

$ feh --conversion-timeout 1 file.svg

Обратите внимание, что для этого нужке [imagemagick](https://archlinux.org/packages/?name=imagemagick).

### Случайный фон рабочего стола

Вы можете заставить feh ставить случайные обои используя опцию `--randomize` с одной из `--bg-foo` опцией, пример:

$ feh --randomize --bg-fill ~/.wallpaper/*

Команда выше говорит feh'у перемешать список файлов в каталоге `~/.wallpaper/` и установить фоны для всех доступных рабочих столов. В этом случае берется первое изображение из перемешанного списка (одно уникальное изображение на каждый рабочий стол). Вы также можете сделать это рекурсивно, если ваш каталог с обоями содержит подкаталоги:

$ feh --recursive --randomize --bg-fill ~/.wallpaper

Чтобы получать для каждой сессии разные случайные обои из `~/.wallpaper`, добавьте следующее в ваш `.xinitrc`:

$ feh --bg-max --randomize ~/.wallpaper/* &

Другой способ устанавливать случайные обои для каждой x.org сессии - отредактируйте ваш `.fehbg`, как показано ниже:

$HOME/.fehbg

 feh --bg-max --randomize --no-fehbg ~/.wallpaper/*

**Совет:** Для периодической смены обоев используйте скрипт, cron или systemd для выполнения команды с желаемым интервалом.

## Решение проблем

### Использование в cron

Если вы решили использовать cron для периодической смены обоев на случайные, необходимо указывать переменную окружения DISPLAY:

$ DISPLAY=:0 feh --bg-max --randomize ~/.wallpaper/*