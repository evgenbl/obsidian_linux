## Команды

### Изменить размер изображения

convert img.jpg -resize 100×150 img1.jpg

### Сжать изображение по ширине до 100px

При этом высота будет сжата пропорционально.

convert img.jpg -resize 100 img1.jpg

### Сжать изображение по высоте до 150px

Аналогично предыдущему.

convert img.jpg -resize ×150 img1.jpg

### Изменение размера изображения без сохранения соотношения сторон

- -resize < MMM x NNN! >

convert img.jpg -resize 100×150! img1.jpg

### Изменение размера изображения в процентах

- -resize < MMM% > — изменение размера изображения в %(процентах)

convert img.jpg -resize 20% img1.jpg

### Поворот изображения

Для того что бы повернуть изображение существует параметр -rotate, где значение указывается в градусах:

convert img.jpg -rotate 20 img1.jpg

### Конвертирование в другой формат

mogrify -format tif *.png

Переведет все *.png-изображения в *tif

### Качество *.jpg

convert img.jpg -quality 75 img2.jpg

---
Если вы хотите вполовину уменьшить размер картинки, то введите команду

> convert 1.jpg -resize 50% 1_1.jpg

В данном случае «1.jpg» — имя исходного файла, а «1_1.jpg» — итогового. У вас могут быть другие названия и расширения. В папке появится новая картинка, разрешение которой на 50% меньше, чем у изначальной.

---
Если вы хотите преобразовать JPG-изображение в формат PNG, введите и примените команду:

> convert 1.jpg 1.png

В этом же каталоге появится картинка в формате PNG. Таким же образом производится преобразование из PNG в JPG, только необходимо каждый раз указывать соответствующие имена и расширения файлов.

---
Получить информацию об изображении можно с помощью команды:

> identify -ping 1.jpg

Итогом ее применения станут краткие данные о картинке. Узнать о ней больше вам поможет уже другая команда:

> identify -verbose 1.jpg

Здесь вы увидите много подробностей, которые могут быть интересны только профессионалу или тому, кто увлекается обработкой графики.

---
Получить полный перечень всех используемых в изображении цветов помогает команда:

> identify -list color 1.jpg

---
## Добавление рамки, черно-белое и негатив

Хотите поместить картинку в рамку и думаете, как и каким редактором это сделать? Больше ничего искать не нужно:

> convert -bordercolor red -border 10 1.jpg 1_3.png

Цвет, в данном случае «red» (красный), указывается на английском. Цифра, в рассматриваемом примере «10», определяет толщину рамки. Результатом применения команды стал графический файл «1_3.png».

---

Как сделать из картинки негатив? Очень просто:

> convert -negate 1.jpg 1_4.jpg

---
Нужно из цветного изображения сделать черно-белое (хотя правильнее было бы сказать — монохромное). И этот полезный эффект достигается всего одной командой:

> convert 1.jpg -monochrome 1_5.jpg

---
Вам было бы удобнее сделать из всех картинок каталога виртуальный фотоальбом в формате PDF и потом смотреть его на своем телефоне или показывать друзьям? И для этого вам не понадобятся никакие сложные инструменты, требующие длительного изучения.

> convert \*.\* 1.pdf

В том же каталоге, в котором располагается ваша коллекция изображений, появится файл формата PDF с полной подборкой всех изображений папки. Когда вы будете применять данную команду, сначала переместите в одну директорию весь контент, который вы собираетесь поместить в создаваемый вами PDF-альбом.

Но как же без графического интерфейса!? Неужели придется обходиться только командной строкой? На самом деле нет. Теперь, когда наиболее интересные возможности комплекса рассмотрены и изучены, введите команду:

> display 1.jpg

И указанный файл появится перед вами в окне может быть и не слишком стильного, но весьма функционального графического редактора с достаточно большим набором функций по редактированию изображений и солидной подборкой эффектов. Этот программный инструмент будет очень полезен тем, кто не располагает мощным компьютером, но хотел бы обрабатывать графику.

---

### **Практическое применение некоторых возможностей пакета**  

Опишем некоторые приёмы обработки изображений при помощи ImageMagick.  
**Создание анимации**  

>animate -delay значение -loop 0 *

  
Эта команда создаёт из всех файлов в данной папке анимацию. После выполнения результат работы будет показан в окне. 
Чтобы сохранить анимацию, раскройте меню, нажав левой кнопкой мыши в области окна вывода анимации, затем выберете Animate > Save и укажите имя файла и выберите желаемый формат.  
Значение после аргумента -delay задаёт паузы между кадрами **сотых секундах**. Например, -delay 100 означает секундную задержку перед показом очередного кадра анимации.  
Значение аргумента -loop указывает на то, сколько раз нужно повторить сначала анимацию. 
Значение -loop 0 задаёт неограниченное количество циклов повторения.  

### **Различия между двумя изображениями**  

>compare изображение1 изображение2 имя_результирующего_изображения

  
Изображения должны быть одинакового разрешения. Результатом работы программы, грубо говоря, станет изображение, где будет выделены цветом пиксели, которые различны в двух заданных изображениях.  

### **Наложение одного изображения на другое**  

>composite изображение1 изображение2 имя_результирующего_изображения

Накладывает изображение1 на изображение2, результатом работы станет изображение имя_результирующего_изображения.  

### **Вывод изображения на экран**  

>display имя_изображения

Выводит указанное изображение на экран. При нажатии на изображение откроется меню ImageMagick, где можно проводить операции с изображением как в обычном графическом редакторе, так что ImageMagick поддерживает не только текстовый интерфейс.

### **Информация об изображении**  

>identify изображение1 [изображение 2 ... ]
  
Позволяет узнать тип, разрешение, глубину цвета, размер и другие параметры указанных изображений.  

### **Создание скриншота**  

>import имя_результирующего_изображения
  
При вызове программы необходимо мышкой указать прямоугольную область экрана. Результат будет сохранён в имя_результирующего_изображения. 

### **Изменение разрешения изображения**  

>convert -resize ШИРИНАxВЫСОТА изображение изменённое_изображение
  
Явно задаёт новое разрешение. Пропорциональность сохраняется, даже если введённые значения непропорциональны изначальному разрешению.  

>convert -resize количество_% изображение изменённое_изображение
  
### Изменения разрешения относительно старого разрешения.  

Пример использования:  

>convert -resize 50% *.png resized.png
  
Уменьшает разрешение всех изображений с расширением png в папке в два раза. Изменённые изображения будут называться resized-порядковый_номер.  

### **Кадрирование изображения**  

>convert -crop ШИРИНАxВЫСОТА+0+0 изображение 

имя_результирующего_изображения
  
Вырезает прямоугольник размера ШИРИНАxВЫСОТА из изображения, начиная с крайнего левого угла. Чтобы сместить точку начала кадрирования нужно задавать координаты точки начала, например 100x100+50+50 — вырежет область размером 100x100 начиная с точки на изображения с координатами x=50 y=50 (**эти координаты отсчитываются от крайнего левого угла**).  

### **Изменить глубину цвета**  

>convert -depth значение_глубины изображение имя_результирующего_изображения
  
### **Склейка изображений в единое**  

>convert * +append имя_результирующего_изображения
  
Из всех файлов в папке создаёт единое изображение, в котором содержаться все изображения из папки в ряд (опция +append означает добавить изображение в ряд с права). 

### **Добавление цветной рамки вокруг изображения**  

>convert -bordercolor имя_цвета -border размер_бордюра изображение 
 >(имя_результирующего_изображения)
  
Пример:  

>convert -bordercolor green -border 3x3

### **Поворот изображения**  

>convert -rotate +/-градус изображение имя_результирующего_изображения
  
"+" указывает на направление по часовой стрелки, а "-" против часовой. ">" разрешает поворачивать только если ширина больше высоты, а "<" наоборот.  

Пример:  

convert -rotate +90