#### in Emacs

Обобщить:

- C-c C-c m: markdown-command > *markdown-output* буфер

- C-c C-c p: markdown-command > временный файл > браузер

- C-c C-c e: markdown-command > basename.html

- C-c C-c v: markdown-command > basename.html > браузер

- C-c C-c w: markdown-command > kill ring

- C-c C-c o: markdown-open-command > откроется исходный файл Markdown напрямую

- C-c C-c l: markdown-live-preview-mode > *eww* буфер

### Монтаж

*Примечание:*

Чтобы использовать все функции markdown-mode, вам понадобиться установить сам пакет Emacs, а также иметь локальный Markdown установленный процессор (например, Markdown.pl, MultiMarkdown или Pandoc).

Внешний процессор для редактирования не требуется, но будет используется для рендеринга HTML для предварительного просмотра и экспорта.

После установки пакет Emacs, обязательно настройте markdown-command. В точку к предпочитаемому исполняемому файлу Markdown в вашей системе.

См. Более подробную информацию можно найти в разделе «Настройки» ниже.

Рекомендуемый способ установки markdown-mode это установить пакет из MELPA с использованием package.el.

Сначала настройте package.el и MELPA репозиторий, добавив следующее в ваш .emacs, init.el, или эквивалентный файл запуска:
```
(require 'package)
(add-to-list 'package-archives
             '("melpa-stable" . "https://stable.melpa.org/packages/"))
(package-initialize)
```
Затем, после перезапуска Emacs или оценки приведенных выше операторов, выполните команду следующая команда: M-x package-install RET markdown-mode RET.

При такой установке основные режимы markdown-mode и gfm-mode будет автоматически загружен и markdown-modeбудет использоваться для имен файлов кончающийся на .md, .markdown, .mkd, .mdown, .mkdn, .mdwn.

### Применение

Сочетания клавиш сгруппированы по префиксам в зависимости от их функции.

Для Например, команды для стилизации текста сгруппированы в разделе C-c C-s и команды переключения начинаются с C-c C-x.

Основные команды в каждая группа будет описана ниже.

Вы можете получить список всех сочетания клавиш, нажав C-c C-h.

Команды движения и переключения обычно связаны с парными разделителями, такими как M-{ и M-} или C-c < и C-c >.

Краткое описание сочетаний клавиш навигации так же, как в org-mode.

Наконец, команды для запуска Markdown или выполнение обслуживания открытого файла сгруппированы под C-c C-cпрефикс.

Ниже описаны наиболее часто используемые команды.

Ты можно получить список всех сочетаний клавиш, нажав C-c C-h.

#### Ссылки и изображения: C-c C-l и C-c C-i

    C-c C-l ( markdown-insert-link) — это общая команда для вставка новой разметки ссылки или редактирование существующей разметки ссылки. Этот особенно полезно, когда URL-адресов включена разметка или скрытие , поэтому что URL-адреса нелегко редактировать напрямую. Эта команда может быть используется для вставки ссылок любой формы: либо встроенных ссылок, ссылочные ссылки или простые URL-адреса в угловых скобках. URL -адрес или [reference]вводятся метка, текст ссылки и необязательный заголовок. с помощью серии интерактивных подсказок. Тип ссылки определяется тем, какие значения предоставляются:

        Если и URL-адрес указаны , и текст ссылки, вставьте встроенную ссылку: [text](url).
        Если оба [reference]текст метки и ссылки задан, вставьте ссылочная ссылка: [text][reference].
        Если указан только текст ссылки, вставьте неявную ссылочную ссылку: [text][].
        Если только URL-адрес указан , вставьте простую URL- ссылку: <url>.

    Сходным образом, C-c C-i ( markdown-insert-image) — генерал команда для вставки или редактирования разметки изображения. Как и по ссылке команду вставки, с помощью серии интерактивных подсказок вы можете вставьте встроенное или эталонное изображение:

    Если указаны и URL-адрес , и замещающий текст, вставьте встроенный изображение: ![alt text](url).
    Если оба [reference]указаны метка и альтернативный текст, вставьте ссылку на ссылку: ![alt text][reference].

    Если в этой точке есть существующая ссылка или изображение, эти команда отредактирует существующую разметку, а не вставит новую разметка. В противном случае, если есть активная область, эти команды используйте регион в качестве URL-адреса по умолчанию (если он кажется URL ) или текстовое значение ссылки в противном случае. В этом случае регион будет удалено и заменено ссылкой.

    Обратите внимание, что эти функции можно использовать для преобразования ссылок и изображения из одного типа в другой (встроенные, эталонные или простые). URL ), выборочно добавляя или удаляя свойства через интерактивные подсказки.

    Если дана ссылочная метка, которая еще не определена, вы будет предложено ввести URL-адрес и необязательный заголовок, а также ссылка будет вставлена ​​в соответствии со значением markdown-reference-location. Если указано название, оно будет добавляется в конец ссылочного определения и будет использоваться для заполнения атрибута title при преобразовании в HTML . Кроме того, это возможно иметь markdown-link-make-text-functionфункция, если не ноль, определите текст ссылки по умолчанию, прежде чем запрашивать его у пользователя.

    Если markdown-disable-tooltip-promptне равно нулю, пользователь не будет будет предложено добавить или изменить текст всплывающей подсказки.

    Могут отображаться изображения, связанные со ссылками на изображения. встроенный в буфер, нажав C-c C-x C-i ( markdown-toggle-inline-images). Это команда переключения, поэтому нажатие этой кнопки еще раз приведет к удалению встроенных изображений. По умолчанию отображаются только локальные изображения. Тем не менее, удаленный изображения также будут загружаться и отображаться, если markdown-display-remote-images не является нулевым.

    Большие изображения можно уменьшить, чтобы они поместились в буфере, используя markdown-max-image-size, минус-ячейка вида (max-width . max-height). Для изменения размера требуется, чтобы Emacs был собран с помощью Поддержка ImageMagick.

#### Стили текста: C-c C-s

    C-c C-s i вставляет разметку, чтобы выделить область или слово курсивом. Если есть активная область, сделайте ее курсивом. Если точка находится на слове, не выделенном курсивом, сделайте это слово курсивом. Если дело в том, у слова или фразы, выделенных курсивом, удалите курсивную разметку. В противном случае просто вставьте курсивные разделители и поместите точку между ними. Аналогично используйте C-c C-s b для смелых, C-c C-s c для встроенного кода и C-c C-s k для вставки <kbd> теги.

    C-c C-s q вставляет цитату, используя активную область, если Any или начинает новую цитату. C-c C-s Qэто вариация который всегда действует в регионе, независимо от того, активен или нет (т.е. когда transient-mark-modeвыключен, но отметка установлена). Соответствующий размер отступа, если любой, рассчитывается автоматически с учетом окружающего контекста, но может быть скорректировано позже, используя отступ региона команды.

    C-c C-s p ведет себя аналогично для вставки предварительно отформатированного кода блоки (с C-c C-s Pбудучи аналогом только для региона) и C-c C-s C вставляет GFM . блок кода с обратными кавычками в стиле

#### Рубрики: C-c C-s

    Чтобы вставить или заменить заголовки, есть два варианта. Ты можешь вставьте заголовок определенного уровня напрямую или вы можете markdown-modeопределить уровень для вас на основе предыдущего заголовок. Как и в случае с другими командами разметки, заголовок команды вставки используют текст в активной области, если таковая имеется, в качестве текста заголовка. В противном случае, если текущая строка не пусто, они используют текст в текущей строке. Наконец, команды settext будут запрашивать текст заголовка, если его нет. активная область и текущая строка пуста.

    C-c C-s h вставляет заголовок автоматически выбранного типа и уровень (оба определяются предыдущим заголовком). C-c C-s Hведет себя аналогично, но использует заголовки Settext (подчеркнутые), когда возможно, при этом уровень рассчитывается автоматически. В случаях, когда автоматически определенный уровень не соответствует по вашему замыслу, уровень можно быстро повысить или понизить (как описано ниже). Альтернативно, C-uпрефикс может быть дано для вставки заголовка, повышенного (меньшее число) на единицу уровень или C-u C-uможно указать префикс для вставки заголовка понижен в должности (большее число) на один уровень.

    Чтобы вставить заголовок определенного уровня и типа, используйте C-c C-s 1 через C-c C-s 6 для заголовков atx (решетка) и C-c C-s ! или C-c C-s @ для заголовков сеттекста первого или второго уровня соответственно. Обратите внимание, что ! является S–1 и @ является S–2.

    Если точка находится по курсу, эти команды заменят существующую разметку для обновления уровня и/или типа заголовок. Чтобы удалить разметку заголовка в точке, нажимать C-c C-k убить заголовок и нажать C-yвыдернуть текст заголовка обратно в буфер.

#### Горизонтальные правила: C-c C-s -

    C-c C-s - вставляет горизонтальную линейку. По умолчанию вставьте первая строка в списке markdown-hr-strings(большинство известное правило). С C-uпрефикс, вставьте последнюю строку. С числовым префиксом N, вставьте строку в позицию N (считая от 1).

#### Сноски: C-c C-s f

    C-c C-s f вставляет маркер сноски в точку, вставляет определение сноски ниже и позиционирует точку для вставка текста сноски. Обратите внимание, что сноски являются расширение Markdown и поддерживаются не всеми процессорами.

#### Вики-ссылки: C-c C-s w

    C-c C-s w вставляет вики-ссылку вида WikiLink` . Если есть активный регион, используйте его в качестве текста ссылки. Если точка находится на слове, используйте это слово в качестве текста ссылки. Если есть нет активной области и точки нет в слове, просто вставь разметка ссылок. Обратите внимание, что вики-ссылки являются расширением Markdown. и поддерживаются не всеми процессорами.

#### Команды Markdown и обслуживания: C-c C-c

    Скомпилировать: C-c C-c mзапустит Markdown для текущего буфера и покажите вывод в другом буфере.

    Предварительный просмотр : C-c C-c pзапускает Markdown для текущего буфера и предварительного просмотра, сохраняет вывод во временный файл и отображает файл в браузере.

    Экспорт: C-c C-c eзапустит Markdown для текущего буфера и сохраняем результат в файл basename.html, где basename— имя файла Markdown с расширением удаленный.

    Экспорт и просмотр: нажмите C-c C-c vэкспортировать файл и просмотреть его в браузере. Открыть: C-c C-c oоткроется исходный файл Markdown напрямую, используя markdown-open-command.

    Живой экспорт : Нажмите C-c C-c l включать markdown-live-preview-modeдля просмотра экспортированного вывода бок о бок с исходным кодом Markdown.

    Для всех команд экспорта выходной файл будет перезаписан без предварительного уведомления.

    markdown-live-preview-window-function можно настроить для открытия в браузере, отличном от eww.

    Если вы хотите заставить окно предварительного просмотра, которое появится внизу или справа, вы можете настроить markdown-split-window-direction.

#### Обобщить:

- C-c C-c m: markdown-command > *markdown-output* буфер

- C-c C-c p: markdown-command > временный файл > браузер

- C-c C-c e: markdown-command > basename.html

- C-c C-c v: markdown-command > basename.html > браузер

- C-c C-c w: markdown-command > kill ring

- C-c C-c o: markdown-open-command > откроется исходный файл Markdown напрямую

- C-c C-c l: markdown-live-preview-mode > *eww* буфер

- C-c C-c c проверит наличие неопределенных ссылок. Если есть любой, откроется небольшой буфер со списком неопределенных ссылки и номера строк, в которых они появляются. В Емаксе 22 и выше, выбрав ссылку из этого списка и нажатие RETвставит пустое определение ссылки в конец буфера. Аналогично, выбор номера строки будет перейти на соответствующую строку.

- C-c C-c u проверит наличие неиспользуемых ссылок. Это будет также откройте небольшой буфер, если таковой имеется, аналогично неопределенному проверка ссылок. Буфер для неиспользуемых ссылок будет содержать X кнопки, которые удаляют неиспользуемые ссылки при выборе.

- C-c C-c n перенумеровывает любые упорядоченные списки в буфере, которые вне последовательности.

- C-c C-c ] завершает все заголовки и нормализует все горизонтальные правила в буфере.

#### Следующие ссылки: C-c C-o

    Нажимать C-c C-o когда точка находится на строке или ссылке ссылка, чтобы открыть URL-адрес в браузере. Когда точка находится в вики-ссылку, откройте ее в другом буфере (в текущем окне, или в другом окне с C-uпрефикс). Использовать M-p и M-n для быстрого перехода к предыдущей или следующей ссылке любого типа.

#### Делать вещи: C-c C-d

**Использовать C-c C-d сделать что-то разумное с объектом в точке:**

        Переходы между ссылочными ссылками и ссылочными определениями. Если более чем одна ссылка использует одну и ту же метку ссылки, Появится окно с интерактивными кнопками для переходя к каждой ссылке. Прессование TAB или S-TABциклы между кнопками в этом окне.
        Переход между маркерами сносок и текстом сноски.
        Переключает статус завершения GFM. элементов списка задач (флажки).
        Перевыравнивает столбцы таблицы.

#### Повышение и понижение в должности: C-c C– и C-c C-=

    Заголовки, горизонтальные правила и элементы списка можно повышать и понижен в должности, а также выделен жирным шрифтом и курсивом. Для заголовков, «продвижение» означает понижение уровня (т.е. переход от <h2> к <h1> тогда как «понижение» означает повышение ) , уровень. Для горизонтальных правил повышение и понижение в должности означает перемещение назад или вперед по списку строк правил в markdown-hr-strings. Для жирного и курсивного текста, продвижения и Понижение означает изменение разметки с подчеркивания на звездочки. Нажимать C-c C– или C-c LEFTпродвигать элемент в точке если возможно.

    Чтобы запомнить эти команды, обратите внимание, что -заключается в уменьшении уровень (продвижение) и = (на той же клавише, что и +) для повышение уровня (понижение). Аналогично, левая и правая клавиши со стрелками указывают направление разметки заголовка ATX. перемещается при повышении или понижении в должности.

#### Завершение: C-c C-]

    Полная разметка представлена ​​в нормализованной форме, что означает, что для Например, подчеркнутая часть заголовка settext является той же длины, что и текст заголовка, или количество начальных букв и конечные хэш-метки заголовка ATX равны, и это в тексте заголовка нет лишних пробелов. C-c C-]завершает разметку в точке, если она определена как неполный.

#### Редактирование списков: M-RET, C-c UP, C-c DOWN, C-c LEFT, и C-c RIGHT

    Новые элементы списка можно вставить с помощью M-RET или C-c C-j. Этот команда определяет соответствующий маркер (один из возможных маркеры неупорядоченного списка или следующий по порядку номер для упорядоченный список) и уровень отступов, проверив соседний список предметы. Если до или после точки нет списка, запустите новый список. Как и в случае вставки заголовка, вы можете использовать префикс команда по C-uчтобы уменьшить отступ на один уровень. Префикс этой команды C-u C-uувеличить отступ на один уровень.

    Существующие элементы списка (и их вложенные подпункты) можно перемещать. вверх или вниз с C-c UP или C-c DOWNи с отступом или оторванный от C-c RIGHT или C-c LEFT.

#### Редактирование поддеревьев: C-c UP, C-c DOWN, C-c LEFT, и C-c RIGHT

    Целые поддеревья заголовков ATX можно повышать и понижать. с C-c LEFT и C-c RIGHT, которые представляют собой те же самые сочетания клавиш используется для продвижения и понижения элементов списка. Если дело в элемент списка, действие над элементом списка. В противном случае они действуют в текущем поддереве заголовка. Аналогично, поддеревья могут быть двигался вверх и вниз с C-c UP и C-c DOWN.

    Эти команды в настоящее время не работают должным образом, если есть Заголовки Settext в затронутом регионе.

    Обратите внимание на следующее «граничное» поведение при продвижении по службе и понижение в должности. Любые заголовки шестого уровня не будут понижены в дальнейшем. (т. е. они остаются на шестом уровне, поскольку Markdown и HTML определяют только шесть уровней), и все заголовки первого уровня будут удалены. полностью (т. е. разметка заголовка будет удалена, поскольку заголовок нулевого уровня не определен).

#### Смена региона: C-c < и C-c >

    Текст в области можно отступать или отступать как группу, используя C-c >для отступа до следующей точки отступа (рассчитывается в текущий контекст) и C-c <отступить от предыдущего точка отступа. Эти сочетания клавиш такие же, как для подобные команды в python-mode.

#### Убийственные элементы: C-c C-k

    Нажимать C-c C-kчтобы убить вещь в данный момент и добавить важное текст без разметки в список уничтожений. Возможные вещи, которые kill включает (примерно в порядке старшинства): встроенный код, заголовки, горизонтальные линейки, ссылки (добавьте текст ссылки в список уничтожений), изображения (добавьте альтернативный текст для списка уничтожений), угловые URI, электронную почту адреса, жирный шрифт, курсив, ссылочные определения (добавьте URI к кольцо уничтожения), маркеры сносок и текст (уничтожить и маркер, и текст, добавить текст в кольцо уничтожения) и элементы списка.

#### Контурная навигация: C-c C-n, C-c C-p, C-c C-f, C-c C-b, и C-c C-u

    Эти клавиши используются для иерархической навигации по спискам и заголовки. Когда точка находится в списке, они перемещаются между списками предметы. В противном случае они перемещаются между заголовками. Использовать C-c C-n и C-c C-pдля перемещения между следующим и предыдущим видимым заголовки или элементы списка любого уровня. Сходным образом, C-c C-f и C-c C-bперейти к следующему и предыдущему видимым заголовкам или перечислить элементы на том же уровне, что и тот, что находится в этой точке. Окончательно, C-c C-u переместится к родительскому заголовку или элементу списка.

#### Перемещение по абзацу Markdown: M-{, M-}, и M-h

    Абзацы в markdown-modeэто обычные абзацы, абзацы внутри кавычек, отдельные элементы списка, заголовки, и т. д. Эти ключи обычно привязаны к forward-paragraph и backward-paragraph, но встроенные функции Emacs основан на простых регулярных выражениях, которые не работают в Markdown файлы. Вместо этого они обязаны markdown-forward-paragraph и markdown-backward-paragraph. Чтобы отметить абзац, вы можете использовать M-h ( markdown-mark-paragraph).

#### Перемещение по блоку Markdown: C-M-{, C-M-}, и C-c M-h

    Блоки Markdown во многих случаях представляют собой обычные абзацы, но содержат много абзацев, в остальных случаях: считаются блоки быть целыми списками, целыми блоками кода и целыми цитатами. Для перемещения назад на один блок используйте C-M-{ ( markdown-beginning-block) и для продвижения вперед используйте C-M-} ( markdown-end-of-block). Чтобы отметить блок, используйте C-c M-h ( markdown-mark-block).

#### Движение от Defuns: C-M-a, C-M-e, и C-M-h

    Обычные команды Emacs могут использоваться для перемещения по defuns. (основные определения верхнего уровня). В режиме уценки defun — это раздел. По-прежнему, C-M-aпереместит точку в начало текущей или предыдущей дефункции, C-M-eбудет двигаться до конца текущего или следующего defun, и C-M-hволя поместите регион вокруг всего дефана.

#### Редактирование таблицы:

    Режим Markdown включает поддержку редактирования таблиц, что иметь следующий базовый формат:

    | Right | Left | Center | Default |
    |------:|:-----|:------:|---------|
    |    12 | 12   | 12     | 12      |
    |   123 | 123  | 123    | 123     |
    |     1 | 1    | 1      | 1       |

    Первая строка содержит заголовки столбцов. Вторая линия содержит разделительную линию между заголовками и содержимым. Каждая следующая строка представляет собой строку в таблице. Столбцы всегда разделенные символом вертикальной черты. Двоеточия обозначают столбец выравнивание.

    Таблица автоматически выравнивается при каждом нажатии TAB или RET внутри стола. TABтакже переходит к следующему поле ( RETк следующей строке) и создает новые строки таблицы в конец таблицы или перед горизонтальными разделительными линиями. отступ таблицы задается первой строкой. Столбец центрирование внутри Emacs не поддерживается.

    Начальные символы вертикальной черты необходимы для правильного обнаружения границы таблицы внутри Emacs. Любая строка, начинающаяся с |- или |:рассматривается как горизонтальная разделительная линия и будет расширяется при следующем выравнивании, чтобы охватить всю ширину таблицы. Нет допускается заполнение между начальным символом трубы и символ-разделитель заголовка. Итак, чтобы создать приведенную выше таблицу, вы бы только напечатать

    |Right|Left|Center|Default|
    |-

    а затем нажмите TABвыровнять таблицу и начать заполнять клетки.

    Тогда вы можете прыгать с TAB из одной ячейки в другую или с S-TAB к предыдущему. RETперейдет к следующую ячейку в том же столбце и создайте новую строку, если есть такой ячейки нет или следующая строка находится за разделительной линией.

    Вы также можете преобразовать выбранный регион в таблицу. Базовое редактирование возможности включают вставку, удаление и перемещение столбцов. и строк, и перевыравнивание таблицы, сортировка, транспонирование:
        C-c UP или C-c DOWN - Переместить текущую строку вверх или вниз.
        C-c LEFT или C-c RIGHT - Переместить текущий столбец влево или вправо.
        C-c S-UP - Убить текущую строку.
        C-c S-DOWN- Вставить строку над текущей строкой. С аргумент префикса, строка строки создается ниже текущей.
        C-c S-LEFT - Убить текущий столбец.
        C-c S-RIGHT - Вставьте новый столбец слева от текущего.
        C-c C-d - Перевыровнять текущую таблицу ( markdown-do).
        C-c C-c ^- Сортировка строк таблицы по указанному столбцу. Эта команда запрашивает номер столбца и сортировку. метод (буквенный или числовой, опционально в обратном порядке).
        C-c C-c |- Преобразование региона в таблицу. Эта функция пытается распознать данные, разделенные запятыми, табуляцией и пробелами а затем соответствующим образом разбивает данные на ячейки.
        C-c C-c t - Транспонировать таблицу в точку.

    Функции редактирования таблицы пытаются справиться с сокрытием разметки. правильно при расчете ширины столбцов, однако столбцы содержащие скрытую разметку, не всегда могут быть выровнены должным образом.

    C-c C-s t ( markdown-insert-table) — общая команда для вставки новой таблицы. Команда запрашивает размер таблицы и выравнивание столбцов, а также вставляет в точку пустую таблицу каналов.

#### Режимы просмотра:

    Режимы просмотра только для чтения, markdown-view-mode и gfm-view-modeпредназначены для просмотра содержимого Markdown. Эти режимы обеспечивают упрощенные сочетания клавиш для навигации по буферу. Многие из этих похожи help-mode и view-mode, такой как SPC, DEL, <, и > для прокрутки, q за отказ от курения и ? или hдля помощь. Предусмотрены и другие клавиши, отражающие контурную навигацию. команды при редактировании: n, p, f, b, и u. Оба этих режима включают разметку. по умолчанию скрывается, но это можно настроить, установив markdown-hide-markup-in-view-modes.

    Разные команды:

    Когда edit-indirect пакет установлен, C-c ’ ( markdown-edit-code-block) можно использовать для редактирования блока кода в косвенном буфере в основном режиме. Нажимать C-c C-c зафиксировать изменения и вернуться или C-c C-kотменить. Ты можешь также укажите аргумент-префикс для команды вставки, как в C-u C-c C-s C, чтобы редактировать блок кода в косвенном буфере при вставке.

Как уже отмечалось, многие из приведенных выше команд ведут себя по-разному в зависимости от от того, включен ли режим Transient Mark или нет. Когда это делает смысл, если режим Transient Mark включен и регион активен, команда применяется к тексту в регионе (например, C-c C-s bделает регион выделен жирным шрифтом). Для пользователей, которые предпочитают работать за пределами Transient Режим пометки, начиная с Emacs 22, его можно временно включить, нажав C-SPC C-SPC. Если это не так, многие команды тогда приступайте к просмотру работы со словом или линией в точке.

Если применимо, команды, которые конкретно действуют на регион, даже вне режима Transient Mark имеют ту же привязку клавиш, что и их стандартный аналог, но буква заглавная. Например, markdown-insert-blockquote связан с C-c C-s qи действует только на регион в режиме Transient Mark, пока markdown-blockquote-region связан с C-c C-s Q и всегда применяется к региону (если не пусто).

Обратите внимание, что эти специфичные для региона функции полезны во многих случаях, когда это может быть неочевидно. Например, извлекая текст из кольцо уничтожения устанавливает отметку в начале выдернутого текста и перемещает точку в конец. Следовательно, (неактивная) область содержит извлеченный текст. Так, C-y с последующим C-c C-s Qволя выдерните текст и превратите его в цитату.

Режим уценки пытается быть гибким в том, как он обрабатывается отступ. Когда вы нажимаете TABнеоднократно, точка будет циклически повторяться через несколько возможных уровней отступов, соответствующих вещам вы могли иметь в виду, когда нажимали RET в конце строки или TAB. Например, вы можете захотеть создать новый элемент списка, продолжить элемент списка с висячим отступом, отступ для вложенного предблокировка и так далее. Отступы обрабатываются аналогично при возврате назад. нажимается в начале части строки без пробелов.

markdown-mode поддерживает режим Outline-Minor, а также стиль org-mode. Циклическое изменение видимости для заголовков в формате ATX или хеш-стиля. Есть два виды велосипедной видимости: Нажатие S-TABглобально циклично между представление оглавления (только заголовки), представление структуры (верхний уровень) только заголовки) и полный вид документа. Прессование TABв то время точка находится на курсе, будет циклически меняться уровень видимости для поддерево: полностью свернутое, видимые дочерние элементы и полностью видимое. Обратите внимание, что смешивание заголовков с решеткой и подчеркиванием приведет к нежелательному результату. Результаты.
Кастомизация

Хотя никакой настройки не требуется, есть несколько вещей. который можно настроить. M-x customize-modeкоманда предоставляет интерфейс для всех возможных настроек:

    markdown-command — команда, используемая для запуска Markdown (по умолчанию: markdown). Эту переменную можно настроить для передачи командной строки опции для вашего процессора Markdown по вашему выбору. Мы рекомендуем вам используйте список строк, если вы хотите установить параметры командной строки, например. '("pandoc" "--from=markdown" "--to=html5"). Это также может быть функция; в этом случае markdownпозвоню ему с тремя аргументы или четыре аргумента, в зависимости от markdown-command-needs-filename. Первые три аргумента: начало и конец региона для обработки, а также буфер для записать вывод в. Когда markdown-command-needs-filename является t, четвертый аргументу присвоено имя файла.

    markdown-command-needs-filename - установлен в t если markdown-command не принимает стандартный ввод (по умолчанию: nil). Когда nil, markdown-modeпройдет уценку содержание для markdown-command используя стандартный ввод ( stdin). Если установлено значение t, markdown-modeпередаст имя файла в качестве последнего аргумента командной строки для markdown-command. Примечание что в последнем случае вы сможете только бежать markdown-command из буферов, посещающих файл.

    markdown-open-command- команда, используемая для вызова автономного Средство предварительного просмотра Markdown, способное открывать исходные файлы Markdown. напрямую (по умолчанию: nil). Эта команда будет называться с единственным аргументом — именем файла текущего буфера. Представительной программой является приложение для Mac Marked 2 , обновляемый в реальном времени предварительный просмотр Markdown, который можно вызвать из простой скрипт оболочки . Эта переменная также может быть функцией; в этом случае markdown-open вызовет его без аргументов для предварительного просмотра текущего буфера.

    markdown-open-image-command- команда, используемая для открытия изображения ссылка (по умолчанию: nil) с помощью markdown-follow-*команды. Эта переменная также может быть функцией, в этом случае она вызывается с одним аргументом, изображение-ссылка. Если это значение nil, markdown-modeоткрывает ссылки на изображения к find-file.

    markdown-hr-strings- список строк, которые будут использоваться при вставке горизонтальные правила. Разные строки не будут различаться при преобразовании в HTML – все они будут преобразованы в <hr/>– но они могут добавить визуальное различие и стиль к простому текстовые документы. Чтобы сохранить некоторое представление о продвижении по службе и понижение в должности, сортируйте их от большего к меньшему.

    markdown-bold-underscore- установите значение, отличное от нуля, чтобы использовать два подчеркивает при вставке жирного текста вместо двух звездочек (по умолчанию: nil).

    markdown-italic-underscore- установить ненулевое значение для использования подчеркивает при вставке курсива вместо звездочек (по умолчанию: nil).

    markdown-asymmetric-header- установить ненулевое значение для использования асимметричный стиль заголовка, размещение символов заголовка только на слева от заголовков (по умолчанию: nil).

    markdown-header-scaling- установить ненулевое значение для использования шрифт с переменным шагом для заголовков, размер которых соответствует на уровень заголовка (по умолчанию: nil).

    markdown-header-scaling-values- список значений масштабирования, относительно базового уровня для заголовков уровней с первого по шестой, используется, когда markdown-header-scalingне ноль (по умолчанию: (2.0 1.7 1.4 1.1 1.0 1.0)).

    markdown-marginalize-headers- поместить разметку открывающего заголовка ATX в левом поле, если оно не равно нулю (по умолчанию: nil).

    markdown-marginalize-headers-margin-width- ширина поля используется для маргинальных заголовков (по умолчанию: 6).

    markdown-list-indent-width- глубина отступов для списков при вставке, повышении и понижении уровня элементов списка (по умолчанию: 4).

    markdown-indent-function- функция, используемая для автоматического отступ (по умолчанию: markdown-indent-line).

    markdown-indent-on-enter- Установите значение, отличное от нуля, чтобы автоматически отступать от новых строк, когда RETнажимается. Установлен в indent-and-new-itemдополнительно продолжать списки когда RET нажата (по умолчанию: t).

    markdown-enable-wiki-links- подсветка синтаксиса для вики ссылки (по умолчанию: nil). Установите для этого значения ненулевое значение, чтобы включить поддержка вики-ссылок по умолчанию. Поддержка вики-ссылок может быть отключена позже используя функцию markdown-toggle-wiki-links."

    markdown-wiki-link-alias-first- установить ненулевое значение для обращаться с псевдонимами вики-ссылок как [[link text|PageName]] (по умолчанию: t). Если установлено значение ноль, они будут рассматриваться как [[PageName|link text]].

    markdown-uri-types- список схем протоколов (например, «http») для URI, которые markdown-mode следует выделить.

    markdown-enable-math- блокировка шрифтов для встроенного и отображаемого LaTeX математические выражения (по умолчанию: nil). Установите это на tвключать математическая поддержка по умолчанию. Математическая поддержка может быть отключена в интерактивном режиме позже, используя C-c C-x C-e ( markdown-toggle-math).

    markdown-enable-html- блокировка шрифта для HTML- тегов и атрибутов (по умолчанию: t).

    markdown-css-paths- Файлы CSS для ссылки на XHTML. выходные данные (по умолчанию: nil). Это могут быть как локальные файлы (относительные, так и абсолютный) или URL-адреса.

    markdown-content-type - используется для установки http-equiv атрибут, который будет включен в XHTML <head> блокировать (по умолчанию: "text/html"). Установите альтернативное значение application/xhtml+xmlпри необходимости или установите пустую строку, чтобы удалить атрибут. Видеть также: markdown-coding-system.

    markdown-coding-system- используется для указания персонажа установить идентификатор в http-equivатрибут при включении (по умолчанию: nil). Видеть markdown-content-type, который должен быть установлен, чтобы эта переменная имела какой-либо эффект. Если установлено значение nil, buffer-file-coding-systemбудет использоваться для автоматического определить строку системы кодирования (возвращаясь к utf-8когда он недоступен). Общие настройки: iso-8859-1 и iso-latin-1.

    markdown-xhtml-header-content- дополнительный контент для включения в XHTML <head> блокировать (по умолчанию: "").

    markdown-xhtml-body-preamble- дополнительный контент для включения в блок XHTML перед выводом (по умолчанию: ""). Этот полезен для включения дополнительных элементов вокруг Markdown выход.

    markdown-xhtml-body-epilogue- дополнительный контент для включения в блок XHTML после вывода (по умолчанию: ""). Это полезно для включения дополнительных элементов вокруг Markdown выход.

    markdown-xhtml-standalone-regexp - регулярное выражение, которое markdown-mode использует, чтобы определить, является ли вывод markdown-commandэто отдельный документ XHTML или XHTML фрагмент (по умолчанию: "^\\(<\\?xml\\|<!DOCTYPE\\|<html\\)"). Если этому регулярному выражению не соответствует первые пять строк выход, markdown-modeпредполагает, что выходные данные представляют собой фрагмент и добавляет верхний и нижний колонтитулы.

    markdown-link-space-sub-char- символ для замены пробелов при сопоставлении вики-ссылок с именами файлов (по умолчанию: "_"). Например, используйте подчеркивание для совместимости с Расширение Python Markdown WikiLinks. В gfm-mode, Это установлен в "-" для соответствия вики-ссылкам GitHub.

    markdown-reference-location- куда вставить ссылку определения (по умолчанию: header). Возможные места: конец документа ( end), после текущего блока ( immediately), конец текущего поддерева ( subtree), или перед следующим заголовком ( header).

    markdown-footnote-location- куда вставить текст сноски (по умолчанию: end). Набор опций локации такой же, как и для markdown-reference-location.

    markdown-nested-imenu-heading-index- Использовать вложенное меню заголовок вместо плоского индекса (по умолчанию: t). Вложенный index может обеспечить более естественный просмотр меню, но плоский список может обеспечить более быструю навигацию с помощью клавиатуры через вкладку завершение.

    markdown-add-footnotes-to-imenu- Добавьте определения сносок в конец индекса меню (по умолчанию: t).

    comment-auto-fill-only-comments- сделана переменная буфер-локальный и установлен в nilпо умолчанию. В программировании языковые режимы, когда эта переменная не равна нулю, только комментарии будет заполнено в режиме автозаполнения. Однако комментарии в Документы Markdown встречаются редко, и большинство пользователей, вероятно, намереваются для фактического содержания заполняемого документа. Изготовление эта переменная buffer-local позволяет markdown-modeпереопределить поведение по умолчанию, вызываемое, когда глобальная переменная не равна нулю.

    markdown-gfm-additional-languages, - дополнительные языки для сделать доступными, помимо тех, которые предопределены в markdown-gfm-recognized-languages, при вставке GFM кода блоки (по умолчанию: nil). Языковые строки должны быть обрезаны пробелов и не содержать фигурных скобок. Они могут быть произвольная капитализация, однако.

    markdown-gfm-use-electric-backquote - использовать markdown-electric-backquoteдля интерактивной вставки GFM блоки кода при трехкратном нажатии обратной кавычки (по умолчанию: t).

    markdown-make-gfm-checkboxes-buttons- Будь то GitHub Списки задач в стиле Markdown (флажки) должны быть превратились в кнопки, которые можно переключать с помощью мыши – 1 или RET. Если не ноль (по умолчанию), тогда кнопки включены. Это работает в markdown-mode а также gfm-mode.

    markdown-hide-urls- Определяет, являются ли URL-адрес и ссылка метки скрыты для встроенных и ссылочных ссылок (по умолчанию: nil). Если значение не равно нулю, встроенные ссылки будут отображаться в буфере как [link](∞) вместо [link](http://perhaps.a/very/long/url/). Чтобы изменить используемый символ-заполнитель (композиция), установите переменную markdown-url-compose-char. Скрытие URL можно отключить в интерактивном режиме с использованием C-c C-x C-l ( markdown-toggle-url-hiding) или из Markdown | Меню «Ссылки и изображения».

    markdown-hide-markup- Определяет, все ли возможные разметки скрыт или иным образом украшен (по умолчанию: nil). Настоящий текст буфера останется неизменным, но отображение будет изменено. Скобки и URL-адреса ссылок будут скрыты, звездочки и подчеркивания для курсива и жирного текста будут скрыты, текст маркеры для неупорядоченных списков будут заменены Unicode пули и так далее. Поскольку сюда входят URL-адреса и ссылки метки, если значение не равно нулю, этот параметр заменяет markdown-hide-urls. Скрытие разметки можно включить с помощью C-c C-x C-m ( markdown-toggle-markup-hiding) или из Markdown | Показывать & Скрыть меню.

    Маркеры Unicode используются для замены ASCII маркеров элементов списка . Список используемых символов в порядке уровня списка может быть указывается путем установки переменной markdown-list-item-bullets. Символы-заполнители, используемые для замены другой разметки, могут можно изменить, настроив соответствующие переменные: markdown-blockquote-display-char, markdown-hr-display-char, и markdown-definition-display-char.

    markdown-fontify-code-blocks-natively- Стоит ли шрифтировать код в блоках кода, используя собственный основной режим. Только это работает для изолированных блоков кода, где указан язык где мы можем автоматически определить подходящий режим для использовать. Сопоставление языка и режима можно настроить, установив переменная markdown-code-lang-modes. Это можно переключить в интерактивном режиме, нажав C-c C-x C-f ( markdown-toggle-fontify-code-blocks-natively).

    markdown-gfm-uppercase-checkbox- Если не ноль, заполните GFM элементы списка задач с [X] вместо [x] (по умолчанию: nil). Это полезно для совместимости с org-mode, что не распознать строчный вариант.

    markdown-translate-filename-function- Функция, которая будет использоваться для переводить имена файлов в ссылках.

    markdown-unordered-list-item-prefix - Когда не ноль, markdown-insert-list-itemвставляет пронумерованные числа для маркер упорядоченного списка. Пока ноль, он всегда вставляет 1..

    markdown-enable-highlighting-syntax- блокировка шрифта для выделения синтаксис, такой как Obsidian, Quilt (по умолчанию: nil).

Кроме того, лица, используемые для подсветки синтаксиса, можно изменить на по вашему вкусу, выпустив M-x customize-group RET markdown-facesили воспользовавшись ссылкой «Markdown Faces» внизу режима. экран настройки.
Расширения

Помимо поддержки базового синтаксиса Markdown, режим Markdown также включает подсветку синтаксиса для [[Wiki Links]]. Это может быть включен путем установки markdown-enable-wiki-linksдо ненулевого значения. Вики-ссылки можно перейти, нажав C-c C-oкогда точка находится по ссылке вики. Использовать M-p и M-nчтобы быстро перейти к предыдущие и следующие ссылки (включая ссылки других типов). Псевдонимы или конвейерные вики-ссылки вида [[link text|PageName]]также поддерживаются. Поскольку некоторые вики меняют местами эти компоненты, установите markdown-wiki-link-alias-first к нулю, чтобы относиться к ним как к [[PageName|link text]]. Если markdown-wiki-link-fontify-missingтакже не равно нулю, режим Markdown выделяет вики-ссылки с помощью отсутствующий целевой файл окрашен в другой цвет. По умолчанию Маркдаун Режим ищет целевые файлы только в текущем каталоге. Вы можете контролировать тип поиска, установив markdown-wiki-link-search-type. Этот тип значения представляет собой список символов. Возможные значения:

    sub-directories : поиск в подкаталогах
    parent-directories : поиск в родительских каталогах
    project : поиск в корне проекта

Поддержка SmartyPants возможна путем настройки markdown-command. Если вы установите SmartyPants.pl в, скажем, /usr/local/bin/smartypants, тогда вы можете установить markdown-command к "markdown | smartypants". Вы можете сделать это либо с помощью M-x customize-group markdown или разместив следующее в своем .emacs файл:

(setq markdown-command "markdown | smartypants")

Подсветка синтаксиса написанных математических выражений в LaTeX (только выражения, обозначаемые $..$, $$..$$, или \[..\]) можно включить, установив markdown-enable-mathк ненулевому значению, либо через настройку, либо путем размещения (setq markdown-enable-math t) в .emacs, а затем перезапустите Emacs или вызовите markdown-reload-extensions.
Маркдаун со вкусом GitHub ( GFM )

Режим Markdown со вкусом GitHub , gfm-mode, это также доступный. Реализация GitHub немного отличается от стандартный Markdown, поскольку он поддерживает различные поведение подчеркиваний внутри слов, автоматическое связывание URL-адреса, зачеркнутый текст и изолированные блоки кода с необязательным ключевое слово языка.

применимы Вышеуказанные особенности GFM к README.mdфайлы, вики страницы и другие файлы в формате Markdown в репозиториях на Гитхаб. GitHub также предоставляет дополнительные функции для написание на сайте (по вопросам, пул-реквестам, сообщениям и т.д.) это дальнейшие расширения GFM . Эти функции включают задачу списки (флажки), символы новой строки, соответствующие жестким разрывам строк, автоматически связанные ссылки на задачи и коммиты, вики-ссылки и т. д. на. Чтобы еще больше запутать ситуацию, хотя списки задач не часть GFM собственно , с 2014 года они отображаются (в формате только для чтения) во всех документах Markdown в репозиториях на сайт. Эти дополнительные расширения поддерживаются в различной степени. к markdown-mode и gfm-mode как описано ниже.

    Автоматическое связывание URL : оба markdown-mode и gfm-modeподдерживать выделение URL-адресов без угловых скобок.

    Несколько подчеркиваний в словах: необходимо включить gfm-modeк переключить поддержку подчеркивания внутри слов. В этом режиме имена переменных, такие как a_test_variableне вызовет ударение (курсив).

    Огражденные блоки кода: блоки кода заключаются в обратные кавычки, с необязательные ключевые слова языка программирования выделены в оба markdown-mode и gfm-mode. Их можно вставить с C-c C-s C. Если есть активная область, текст в регион будет помещен внутри блока кода. Вы будете будет предложено ввести название языка, но можно нажать Enter, чтобы продолжить, не называя язык.

Кроме того, в gfm-mode, блоки кода GFM можно вставить через вариант markdown-gfm-use-electric-backquote. Если вариант markdown-code-block-braces установлено на t, блоки кода, вставленные с помощью C-c C-s Cили электрические обратные кавычки будут включать фигурные скобки («{}») вокруг языковых атрибутов.

    Зачеркивание: Зачеркнутый текст поддерживается как в markdown-mode и gfm-mode. Его можно вставить (и переключить) с использованием C-c C-s s.

    Списки задач: списки задач GFM будут отображаться в виде флажков. (кнопки Emacs) в обоих markdown-mode и gfm-mode когда markdown-make-gfm-checkboxes-buttonsустановлено значение, отличное от нуля (и по умолчанию установлено значение t). Эти флажки могут быть переключается нажатием mouse-1, нажав RETнад кнопкой, или нажав C-c C-d ( markdown-do) с точкой где угодно в пункте списка задач. Обычный элемент списка можно превратить в проверить элемент списка той же командой или, точнее, C-c C-s [ ( markdown-insert-gfm-checkbox).

    Вики-ссылки. Общие вики-ссылки поддерживаются в markdown-mode, но в gfm-modeконкретно они будут обрабатываются так же, как на GitHub: пробелы будут заменены дефисами. в именах файлов, и первая буква имени файла будет с большой буквы. Например, [[wiki link]]сопоставлю с файлом названный Wiki-linkс тем же расширением, что и текущий файл. Если файл с таким именем не существует в текущем каталоге, Вместо этого будет использоваться первое совпадение в подкаталоге, если таковое имеется.

    Новые строки: Ни то, ни другое markdown-mode ни gfm-modeДелать что-нибудь особенно в отношении поведения новой строки. Если вы используете gfm-modeв основном для написания текста для комментариев или вопросов по Сайт GitHub – где символы новой строки значимы и соответствуют жесткие разрывы строк – тогда вы можете включить visual-line-modeдля переноса строк в буферах. Вы можете сделать это с помощью gfm-mode-hook следующее:

    ;; Use visual-line-mode in gfm-mode
    (defun my-gfm-mode-hook ()
      (visual-line-mode 1))
    (add-hook 'gfm-mode-hook 'my-gfm-mode-hook)

    Предварительный просмотр: предварительный просмотр, специфичный для GFM, можно активировать, установив markdown-commandиспользовать Доктор . Это также может быть настроен для работы с Marked 2 для markdown-open-command.

