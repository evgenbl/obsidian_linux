## Проверка состояния спящего режима

### Через команду systemctl

Для того чтобы проверить состояние спящего режима в Linux можно использовать команду systemctl.

Для этого нужно запустить терминал и ввести команду:

    systemctl status sleep.target

После выполнения команды мы получим информацию о состоянии спящего режима на устройстве:

    включен он или выключен.

Через чтение параметров ядра, команда cat

Также можно использовать команду cat для проверки состояния спящего режима.

Для этого нужно ввести в терминал:

    cat /sys/power/state

Результат выполнения команды будет содержать одно из следующих состояний:

    freeze - спящий режим включён

    mem - используется спящий режим «Suspend to RAM» (отключение питания процессора);

    disk - используется спящий режим «Suspend to Disk» (сохранение состояния системы на жесткий диск);

    standby - используется спящий режим «Suspend to idle» (отключение питания устройств);

Если режим «freeze» не используется, тогда на компьютере может быть некоторый процесс, который мешает работе спящего режима, например, драйвер или процесс приложения.

## Изменение параметров спящего режима

## Через параметр в конфигурации

Для изменения времени ожидания перед входом в спящий режим нужно открыть файл:

  /etc/systemd/systemd-logind.conf.

Время ожидания до перехода в спящий режим указано в параметре IdleSuspendTimeoutSec (в секундах).
Перевод системы в спящий режим

### Немедленный перевод операционной системы в спящий режим можно выполнить командой:

    sudo systemctl [РЕЖИМ]

Linux поддерживает несколько видов спящего режима: 

   suspend (S3),
 
   hibernate (S4) 


   и

   hybrid sleep.

### Для выбора нужного режима можно использовать параметры входа в спящий режим в конфигурации системы.

    suspend — режим, при котором содержимое оперативной памяти копируется на жесткий диск, а затем система отключается. После включения системы она быстро восстанавливается из запомненного состояния.

    hibernate — режим, при котором состояние системы записывается на жесткий диск, а затем она полностью отключается. При следующем включении системы она будет загружаться из жесткого диска.

    hybrid sleep — это смесь режимов Suspend и Hibernate. При этом состояние системы копируется как на жесткий диск, так и в оперативную память, что гарантирует сохранение данных в случае отключения питания.

Для выбора спящего режима по умолчанию, его необходимо прописать в конфигурационном файле /etc/systemd/sleep.conf и настройте следующие параметры:

StandbyMode — параметр, управляющий режимом ожидания.

SuspendMode — параметр, управляющий режимом спящего режима.

HibernateMode — параметр, управляющий режимом гибернации.

Значение каждого параметра зависит от используемой системы и желаемого варианта режима.

Отключение спящего режима

Отключение спящего режима через настройки

Самый простой способ отключить спящий режим - зайти в настройки системы.

Для этого нужно нажать на панели задач на значок «Настройки» и выбрать нужную опцию.

    Откройте настройки системы;

    Выберите вкладку «Питание»;

    Найдите «Спящий режим» и измените значение с «Включено» на «Выключено».

Сохраните изменения и спящий режим будет отключён.
Отключение спящего режима через командную строку

Если вы предпочитаете работать с консолью, то вы можете отключить спящий режим через терминал.

    Откройте терминал;

    Введите команду:

    sudo systemctl mask sleep.target suspend.target hibernate.target hybrid-sleep.target
    Нажмите клавишу Enter и введите пароль root

Спящий режим будет успешно отключён.

## Выключение монитора и заставка в графическом режиме

По умолчанию, через некоторое время, даже с выключенным спящим режимом, OS Linux в графическом режиме, отключает монитор и включает заставку. Заставку можно отключить в настройках заставки, а вот выключение монитора настраивается в параметрах xorg.

Чтобы отключить выключение монитора, необходимо создать файл /etc/X11/xorg.conf.d/60-screen_blank_off.conf со следующим содержимым:

    Section "ServerFlags"

    Option "BlankTime" "0"

    Option "StandbyTime" "0"

    Option "OffTime" "0"

    Option "SuspendTime" "0"

    EndSection

После перезагрузки менеджера дисплея или перезагрузки компьютера, выключение монитора будет отключено.

